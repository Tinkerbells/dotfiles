#!/bin/sh

[ "$(pamixer --get-mute)" = true ] && echo "mute" && exit

volume="$(pamixer --get-volume)"

if [ "$volume" -ge "80" ]; then
	icon=" "
elif [ "$volume" -gt "50" ]; then
	icon="墳 "
elif [ "$volume" -gt "10" ]; then
	icon=" "
else
	icon=" "
fi

echo "$icon$volume%"

send_notification() {
	notify-send -a Pamixer -u low -r 993 -h int:value:"$volume" -i "volume-$1" "Volume: ${volume}%" -t 2000
}

case $BLOCK_BUTTON in
1) pavucontrol ;;
4) pamixer -i 5 && send_notification up ;;
5) pamixer -d 5 && send_notification down ;;
6) "$TERMINAL" -e "$EDITOR" "$0" ;;
esac
